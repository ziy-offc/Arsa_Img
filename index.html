<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gallery Glow</title>
<style>
html, body {
  margin:0; padding:0;
  font-family: Arial, sans-serif;
  height:100%;
  overflow:hidden;
  background: url('https://files.catbox.moe/oe4k3w.jpg') no-repeat center center fixed;
  background-size: cover; /* full halaman */
}
@keyframes gradientBG {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
*{box-sizing:border-box;}

/* Login overlay */
#loginContainer {
  position:absolute;top:0;left:0;width:100%;height:100%;
  background: rgba(0,0,0,0.5);
  display:flex; justify-content:center; align-items:center;
  z-index:10;
}
#loginBox {
  background: rgba(255,255,255,0.2);
  padding:40px 60px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 8px 30px rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
}
h1,h2{
  font-size:36px;
  color:#ff0000;
  text-shadow: 0 0 5px #0ff,0 0 10px #0ff,0 0 20px #0ff,0 0 40px #0ff, 0 0 2px #000,0 0 4px #000;
  margin:0 0 10px 0;
  text-align:center;
}

/* Enter Button */
#enterBtn {
  padding:12px 35px; font-size:18px;
  border:none; border-radius:12px;
  background: rgba(255,255,255,0.2);
  color:#fff; cursor:pointer;
  backdrop-filter: blur(8px);
  box-shadow:0 0 10px rgba(255,255,255,0.5),0 0 20px rgba(0,255,255,0.7);
  transition:0.3s;
}
#enterBtn:hover{
  transform: scale(1.05);
  box-shadow:0 0 20px rgba(255,255,255,0.7),0 0 30px rgba(0,255,255,1);
}

/* Gallery */
#galleryContainer {
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;  /* tombol di atas */
  height:100vh;
  width:100%;
  text-align:center;
  padding-top:20px; /* jarak atas */
}

/* Judul */
#galleryContainer h2{
  margin-top:10px; /* turun sedikit */
  margin-bottom:15px;
}

/* Carousel */
.carousel {
  position:relative; width:100%; height:50vh;
  display:flex; justify-content:center; align-items:center;
  perspective:1000px;
}

.carousel-track {
  width:100%; height:100%;
  display:flex; justify-content:center; align-items:center;
  transform-style: preserve-3d;
  transition:transform 0.5s;
  position:relative;
}

.carousel img {
  position:absolute;
  max-height:30vh; /* lebih kecil */
  max-width:50vw;  /* lebih kecil */
  object-fit:contain;
  border: 3px solid transparent;
  border-radius:5px;
  box-shadow: 0 0 10px #0ff, 0 0 20px #0ff; /* efek tepi menyala biru */
  transition: transform 0.5s, opacity 0.5s;
  z-index:1;
}

.nav-btn {
  cursor:pointer;
  position:absolute; top:50%;
  transform:translateY(-50%);
  padding:10px;
  font-size:32px;
  color:#fff;
  background-color: rgba(0,0,0,0.4);
  text-shadow:0 0 8px #0ff,0 0 10px #0ff;
  border-radius:5px;
  user-select:none;
  height:60%; display:flex;
  align-items:center; justify-content:center;
  z-index:5;
}
.prev { left:10px; }
.next { right:10px; }

/* Buttons */
#buttonContainer{
  display:flex; flex-direction:column; align-items:center;
  gap:5px; width:90%; max-width:320px; 
  margin-top:10px; /* geser tombol ke atas */
}
.gallery-btn{
  width:100%; padding:12px 20px; font-size:16px;
  border-radius:10px; border:none;
  color:#0ff;
  background: rgba(0,0,0,0.3);
  cursor:pointer; backdrop-filter:blur(6px);
  box-shadow:0 0 10px #0ff,0 0 15px rgba(255,255,255,0.5);
  transition:0.3s;
}
.gallery-btn:hover{
  box-shadow:0 0 20px #0ff,0 0 25px rgba(255,255,255,0.7);
}
#uploadBtnLabel{
  width:calc(100% + 6px); text-align:center;
}
</style>
</head>
<body>

<!-- Musik -->
<audio id="music1" src="https://files.catbox.moe/vh8lgy.mp3"></audio>
<audio id="music2" src="https://files.catbox.moe/3nazrm.mp3"></audio>

<!-- Login -->
<div id="loginContainer">
  <div id="loginBox">
    <h1>WELCOME!</h1>
    <button id="enterBtn">ENTER</button>
  </div>
</div>

<!-- Gallery -->
<div id="galleryContainer">
  <h2>Gallery Foto Arsa</h2>
  <div class="carousel">
    <span class="nav-btn prev">&#10094;</span>
    <div class="carousel-track"></div>
    <span class="nav-btn next">&#10095;</span>
  </div>
  <div id="buttonContainer">
    <button id="downloadBtn" class="gallery-btn">Download</button>
    <button id="deleteBtn" class="gallery-btn">Delete</button>
    <label id="uploadBtnLabel" for="uploadBtn" class="gallery-btn">Upload</label>
    <input type="file" id="uploadBtn" multiple accept="image/*" style="display:none;">
  </div>
</div>

<script>
let images=JSON.parse(localStorage.getItem('carouselImages')||'[]');
let currentIndex=0;

const loginContainer=document.getElementById('loginContainer');
const galleryContainer=document.getElementById('galleryContainer');
const enterBtn=document.getElementById('enterBtn');
const uploadBtn=document.getElementById('uploadBtn');
const track=document.querySelector('.carousel-track');
const prevBtn=document.querySelector('.prev');
const nextBtn=document.querySelector('.next');
const downloadBtn=document.getElementById('downloadBtn');
const deleteBtn=document.getElementById('deleteBtn');
const music1=document.getElementById('music1');
const music2=document.getElementById('music2');

function renderCarousel(){
  track.innerHTML='';
  if(images.length===0) return;
  images.forEach((src,i)=>{
    const img=document.createElement('img');
    img.src=src;
    let offset=i-currentIndex;
    if(offset<-1) offset+=images.length;
    if(offset>images.length-1) offset-=images.length;
    img.style.transform=`translateX(${offset*50}%) translateZ(${-Math.abs(offset)*80}px) rotateY(${offset*15}deg)`;
    img.style.opacity=(Math.abs(offset)>2)?0:1;
    track.appendChild(img);
  });
}

// Musik bergantian
function playMusicLoop(){
  music1.play();
  music1.onended=()=>{music2.play();}
  music2.onended=()=>{playMusicLoop();}
}

// ENTER login
enterBtn.addEventListener('click',()=>{
  loginContainer.style.display='none';
  galleryContainer.style.display='flex';
  renderCarousel();
  playMusicLoop();
});

// Upload
uploadBtn.addEventListener('change',(e)=>{
  const files=e.target.files;
  for(let i=0;i<files.length;i++){
    const reader=new FileReader();
    reader.onload=(event)=>{
      images.push(event.target.result);
      localStorage.setItem('carouselImages', JSON.stringify(images));
      if(images.length===1) currentIndex=0;
      renderCarousel();
    };
    reader.readAsDataURL(files[i]);
  }
});

// Navigation
prevBtn.addEventListener('click',()=>{
  if(images.length===0) return;
  currentIndex=(currentIndex-1+images.length)%images.length;
  renderCarousel();
});
nextBtn.addEventListener('click',()=>{
  if(images.length===0) return;
  currentIndex=(currentIndex+1)%images.length;
  renderCarousel();
});

// Download
downloadBtn.addEventListener('click',()=>{
  if(images.length===0) return;
  const a=document.createElement('a');
  a.href=images[currentIndex];
  a.download=`photo_${currentIndex+1}.png`;
  a.click();
});

// Delete
deleteBtn.addEventListener('click',()=>{
  if(images.length===0) return;
  images.splice(currentIndex,1);
  localStorage.setItem('carouselImages', JSON.stringify(images));
  if(images.length===0){
    track.innerHTML='';
    alert('All photos deleted!');
  }else{
    currentIndex=currentIndex % images.length;
    renderCarousel();
  }
});
</script>
</body>
</html>